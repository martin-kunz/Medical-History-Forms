<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.9.2" />
<title>PhysioForms.fileHandler API documentation</title>
<meta name="description" content="" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>PhysioForms.fileHandler</code></h1>
</header>
<section id="section-intro">
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">import json
import os
import configparser
from pathlib import Path
import logging
import time

from PhysioForms.Config import Config
from PhysioForms.Question import Question
from PhysioForms.QuestionCategory import QuestionCategory
from PhysioForms.QuestionType import QuestionType
from PhysioForms.Questionnaire import Questionnaire
from PhysioForms.QuestionnaireCategory import QuestionnaireCategory


class FileHandlerStash:
    SESSION_FILE_PATH: Path = Path(os.getcwd()) / Path(&#34;session.lock&#34;)
    CONFIG_FILE_PATH: Path = Path(os.getcwd()) / Path(&#34;config/config.ini&#34;)
    TYPES: list = []
    QUESTION_CATEGORIES: list = []
    QUESTIONNAIRE_CATEGORIES: list = []
    LOGGER: logging.Logger = None


def readFromFile(pathToFile: Path) -&gt; Questionnaire:
    &#34;&#34;&#34;Function to read the questionnaire from the given JSON file

    Args:
        pathToFile (Path): Path to the file, which should be read from

    Returns:
        Questionnaire: The read questionnaire
    &#34;&#34;&#34;
    FileHandlerStash.LOGGER.debug(&#34;Reading from file: &#34; + str(pathToFile))
    jsonObj = readJSONObjFromFile(pathToFile)
    jsonQuestions = jsonObj[&#34;question&#34;]
    questions: list = []
    FileHandlerStash.LOGGER.debug(&#34;Creating question list&#34;)
    for q in jsonQuestions:
        question: Question
        if q[&#34;required&#34;] == &#34;true&#34;:
            required = True
        else:
            required = False
        if q[&#34;score&#34;] == &#34;true&#34;:
            score = True
        else:
            score = False
        if q[&#34;comment&#34;] == &#34;true&#34;:
            comment = True
        else:
            comment = False
        if q[&#34;options&#34;] == &#34;none&#34;:
            question: Question = Question(text=q[&#34;text&#34;], type=getTypeByTypeName(q[&#34;type&#34;]), options=[],
                                          required=required, dependent_on=q[&#34;dependent_on&#34;],
                                          expected_answer=q[&#34;expected_answer&#34;], abbreviation=q[&#34;abbrv&#34;],
                                          score=score, comment=comment,
                                          category=getQuestionCategoryByID())
            questions.insert(int(q[&#34;number&#34;]), question)
        else:
            optionKeys: list = []
            options: list = []
            for o in q[&#34;options&#34;]:
                optionKeys.append(o)
            for o in optionKeys:
                options.append(q[&#34;options&#34;][o])
            question: Question = Question(text=q[&#34;text&#34;], type=getTypeByTypeName(q[&#34;type&#34;]), options=options,
                                          required=required, dependent_on=q[&#34;dependent_on&#34;],
                                          expected_answer=q[&#34;expected_answer&#34;], abbreviation=q[&#34;abbrv&#34;],
                                          score=score, comment=comment,
                                          category=getQuestionCategoryByID())
            questions.insert(int(q[&#34;number&#34;]), question)
    FileHandlerStash.LOGGER.debug(&#34;Creating questionnaire&#34;)
    questionnaire: Questionnaire = Questionnaire(name=pathToFile.stem, questions=questions,
                                                 category=getQuestionnaireCategoryByID())
    return questionnaire


def writeToFile(pathToFile: Path, questionnaire: Questionnaire):
    &#34;&#34;&#34;Function to write the questionnaire in the given JSON format to the given file

    Args:
        pathToFile (Path): Path to the file, which should be written to
        questionnaire (Questionnaire): The questionnaire, that should be written to the file
    &#34;&#34;&#34;
    FileHandlerStash.LOGGER.debug(&#34;Writing to file: &#34; + str(pathToFile))
    if len(questionnaire.questions) == 0:
        raise Exception(&#34;No questions in questionnaire.&#34;)
    questions: list = questionnaire.questions
    FileHandlerStash.LOGGER.debug(&#34;Building JSON string&#34;)
    jsonStr = &#39;{&#34;question&#34;:[&#39;
    q1Q = questions[0]
    q1Str = &#39;{&#34;number&#34;: &#34;&#39; + str(1) + &#39;&#34;,&#34;text&#34;: &#34;&#39; + str(q1Q.text) + &#39;&#34;,&#34;type&#34;: &#34;&#39; + str(q1Q.type.typeName)
    if len(q1Q.options) == 0:
        q1Str += &#39;&#34;,&#34;options&#34;: &#34;&#39; + &#34;none&#34; + &#39;&#34;&#39;
    else:
        optionsStr = &#39;&#34;,&#34;options&#34;: {&#39;
        o1Str = &#39;&#34;&#39; + str(q1Q.options[0]) + &#39;&#34;: &#34;&#39; + str(q1Q.options[0]) + &#39;&#34;&#39;
        optionsStr += o1Str
        for n in range(1, len(q1Q.options)):
            o = q1Q.options[n]
            optionsStr += &#39;,&#34;&#39; + str(o) + &#39;&#34;: &#34;&#39; + str(o) + &#39;&#34;&#39;
        optionsStr += &#39;}&#39;
        q1Str += optionsStr
    q1Str += &#39;,&#34;required&#34;: &#34;&#39; + str(q1Q.required).lower() + &#39;&#34;,&#34;dependent_on&#34;: &#34;&#39; + str(
        q1Q.dependent_on) + &#39;&#34;,&#34;expected_answer&#34;: &#34;&#39; + str(q1Q.expected_answer) + &#39;&#34;,&#34;abbrv&#34;: &#34;&#39; + str(
        q1Q.abbreviation) + &#39;&#34;,&#34;score&#34;: &#34;&#39; + str(q1Q.score).lower() + &#39;&#34;,&#34;comment&#34;: &#34;&#39; + str(q1Q.comment).lower() + &#39;&#34;}&#39;
    jsonStr += q1Str
    for n in range(1, len(questions)):
        q: Question = questions[n]
        questionStr = &#39;,{&#34;number&#34;: &#34;&#39; + str(n + 1) + &#39;&#34;,&#34;text&#34;: &#34;&#39; + str(q.text) + &#39;&#34;,&#34;type&#34;: &#34;&#39; + str(q.type.typeName)
        if len(q.options) == 0:
            questionStr += &#39;&#34;,&#34;options&#34;: &#34;&#39; + &#34;none&#34; + &#39;&#34;&#39;
        else:
            optionsStr = &#39;&#34;,&#34;options&#34;: {&#39;
            o1Str = &#39;&#34;&#39; + str(q.options[0]) + &#39;&#34;: &#34;&#39; + str(q.options[0]) + &#39;&#34;&#39;
            optionsStr += o1Str
            for n in range(1, len(q.options)):
                o = q.options[n]
                optionsStr += &#39;,&#34;&#39; + str(o) + &#39;&#34;: &#34;&#39; + str(o) + &#39;&#34;&#39;
            optionsStr += &#39;}&#39;
            questionStr += optionsStr
        questionStr += &#39;,&#34;required&#34;: &#34;&#39; + str(q.required).lower() + &#39;&#34;,&#34;dependent_on&#34;: &#34;&#39; + str(
            q.dependent_on) + &#39;&#34;,&#34;expected_answer&#34;: &#34;&#39; + str(q.expected_answer) + &#39;&#34;,&#34;abbrv&#34;: &#34;&#39; + str(
            q.abbreviation) + &#39;&#34;,&#34;score&#34;: &#34;&#39; + str(q.score).lower() + &#39;&#34;,&#34;comment&#34;: &#34;&#39; + str(q.comment).lower() + &#39;&#34;}&#39;
        jsonStr += questionStr
    jsonStr += &#39;]}&#39;
    writeJSONObjToFile(pathToFile, json.loads(jsonStr))


def readJSONObjFromFile(pathToFile: Path) -&gt; object:
    &#34;&#34;&#34;Function to read the content from a JSON file

    Args:
        pathToFile (Path): Path to the file, which should be read from

    Raises:
        FileNotFoundError: If the file doesn&#39;t exist

    Returns:
        object: The read JSON object
    &#34;&#34;&#34;
    FileHandlerStash.LOGGER.debug(&#34;Checking if given file exists&#34;)
    if not pathToFile.exists():
        raise FileNotFoundError

    FileHandlerStash.LOGGER.debug(&#34;File existed. Reading JSON object from: &#34; + str(pathToFile))
    with open(pathToFile, &#34;r&#34;, encoding=&#34;utf-8&#34;) as file:
        jsonObj = json.load(file)
    return jsonObj


def writeJSONObjToFile(pathToFile: Path, jsonObj: object):
    &#34;&#34;&#34;Function to write a JSON object to a file

    Args:
        pathToFile (Path): Path to the file, wich sould be written to
        jsonObj (object): The JSON object, that should be written to the file
    &#34;&#34;&#34;
    FileHandlerStash.LOGGER.debug(&#34;Writing given JSON object to file: &#34; + str(pathToFile))
    with open(pathToFile, &#34;w&#34;, encoding=&#34;utf-8&#34;) as file:
        json.dump(obj=jsonObj, fp=file, indent=2, ensure_ascii=False)


def createSessionFile():
    &#34;&#34;&#34;Creates a SessionFile if there is none

    Raises:
        FileExistsError: If there is already a SessionFIle
    &#34;&#34;&#34;
    FileHandlerStash.LOGGER.debug(&#34;Checking if session file already exists&#34;)
    if FileHandlerStash.SESSION_FILE_PATH.exists():
        raise FileExistsError

    FileHandlerStash.LOGGER.debug(&#34;No session file. Creating a new one&#34;)
    open(FileHandlerStash.SESSION_FILE_PATH, &#34;w&#34;).close()


def removeSessionFile():
    &#34;&#34;&#34;Removes the SessionFile

    Raises:
        FileNotFoundError: If there is no SessionFile
    &#34;&#34;&#34;
    FileHandlerStash.LOGGER.debug(&#34;Checking if session file exists&#34;)
    if not FileHandlerStash.SESSION_FILE_PATH.exists():
        raise FileNotFoundError

    FileHandlerStash.LOGGER.debug(&#34;Session file existed. Removing it&#34;)
    os.remove(FileHandlerStash.SESSION_FILE_PATH)


def readSessionFile() -&gt; Questionnaire:
    &#34;&#34;&#34;Reads the content of the SessionFile

    Raises:
        FileNotFoundError: If there is no SessionFile

    Returns:
        Questionnaire: The questionnaire read from the SessionFile
    &#34;&#34;&#34;
    FileHandlerStash.LOGGER.debug(&#34;Checking if session file exists&#34;)
    if not FileHandlerStash.SESSION_FILE_PATH.exists():
        raise FileNotFoundError

    FileHandlerStash.LOGGER.debug(&#34;Session file exitsed. Reading from session file&#34;)
    with open(FileHandlerStash.SESSION_FILE_PATH, &#34;r&#34;, encoding=&#34;utf-8&#34;) as file:
        jO = json.load(file)
        questions: list = []
        FileHandlerStash.LOGGER.debug(&#34;Building questions list&#34;)
        for q in jO[&#34;questions&#34;]:
            options: list = []
            for o in q[&#34;options&#34;]:
                options.append(o)
            question: Question = Question(text=q[&#34;text&#34;], type=getTypeByTypeName(q[&#34;type&#34;][&#34;typeName&#34;]),
                                          options=options, required=q[&#34;required&#34;],
                                          dependent_on=q[&#34;dependent_on&#34;], expected_answer=q[&#34;expected_answer&#34;],
                                          abbreviation=q[&#34;abbreviation&#34;], score=q[&#34;score&#34;], comment=q[&#34;comment&#34;],
                                          category=getQuestionCategoryByID(q[&#34;category&#34;][&#34;id&#34;]), id=q[&#34;id&#34;])
            questions.append(question)
        FileHandlerStash.LOGGER.debug(&#34;Building and returning questionnaire&#34;)
        return Questionnaire(name=jO[&#34;name&#34;], id=jO[&#34;id&#34;], description=jO[&#34;description&#34;],
                             creationDate=jO[&#34;creationDate&#34;], lastEdited=jO[&#34;lastEdited&#34;], questions=questions,
                             category=getQuestionnaireCategoryByID(jO[&#34;category&#34;][&#34;id&#34;]))


def writeToSessionFile(questionnaire: Questionnaire) -&gt; bool:
    &#34;&#34;&#34;Writes the given object to the SessionFile

    Args:
        questionnaire (Questionnaire): The object, that should be written to the SessionFile

    Returns:
        bool: True, if the writing was successfull
    &#34;&#34;&#34;
    FileHandlerStash.LOGGER.debug(&#34;Writing questionnaire to session file&#34;)
    with open(FileHandlerStash.SESSION_FILE_PATH, &#34;w&#34;, encoding=&#34;utf-8&#34;) as file:
        file.write(questionnaire.toJSON())
    return True


def createLogger(maxFileCount: int) -&gt; logging.Logger:
    &#34;&#34;&#34;Creates a logger and a logging.FileHandler and removes the oldest logfile to keep max 5 logfiles

    Returns:
        logging.Logger: The created logger with the FileHandler
    &#34;&#34;&#34;
    logsDir: Path = Path(Path(os.getcwd()) / Path(&#34;log/&#34;))
    logsDir.mkdir(exist_ok=True)
    loggerFormat = logging.Formatter(&#34;%(asctime)s - %(levelname)s - %(module)s:%(funcName)s | %(message)s&#34;)
    logger: logging.Logger = logging.getLogger(&#34;MainLogger&#34;)
    logFile = logsDir / Path(time.strftime(&#34;%Y_%m_%d.log&#34;, time.localtime()))

    logFiles: list = list(logsDir.glob(&#34;*.log&#34;))
    logFiles.sort()
    if len(logFiles) &gt; 0 and len(logFiles) &gt; maxFileCount and (Path(logFiles[-1]) != Path(logFile)):
        os.remove(logFiles[0])

    logFileHandler = logging.FileHandler(filename=logFile, mode=&#34;a&#34;)
    logFileHandler.setFormatter(loggerFormat)

    logger.addHandler(logFileHandler)
    FileHandlerStash.LOGGER = logger
    return logger


def setTypes(types: list):
    &#34;&#34;&#34;Correlates the types list with the given types

    Args:
        types (list): The given types
    &#34;&#34;&#34;
    FileHandlerStash.LOGGER.debug(&#34;Setting types&#34;)
    for typeName in types:
        FileHandlerStash.TYPES.append(typeName)


def setQuestionCategories(categories: list):
    &#34;&#34;&#34;Correlates the categories list with the given categories

    Args:
        categories (list): The given categories
    &#34;&#34;&#34;
    FileHandlerStash.LOGGER.debug(&#34;Setting question categories&#34;)
    for category in categories:
        FileHandlerStash.QUESTION_CATEGORIES.append(category)


def setQuestionnaireCategories(categories: list):
    &#34;&#34;&#34;Correlates the categories list with the given categories

    Args:
        categories (list): The given categories
    &#34;&#34;&#34;
    FileHandlerStash.LOGGER.debug(&#34;Setting questionnaire categories&#34;)
    for category in categories:
        FileHandlerStash.QUESTIONNAIRE_CATEGORIES.append(category)


def getTypeByTypeName(typeName: str) -&gt; QuestionType:
    &#34;&#34;&#34;Get a type object by it&#39;s name

    Args:
        typeName (str): The name of the type object

    Returns:
        QuestionType: The found type object
    &#34;&#34;&#34;
    FileHandlerStash.LOGGER.debug(&#34;Getting QuestionType for typeName: &#34; + typeName)
    for type in FileHandlerStash.TYPES:
        if typeName == type.typeName:
            return type


def getQuestionCategoryByID(catID: int = 1) -&gt; QuestionCategory:
    &#34;&#34;&#34;Gets a QuestionCategory by its ID

    Args:
        catID (int, optional): The ID to search for. Defaults to 1.

    Returns:
        QuestionCategory: The found category
    &#34;&#34;&#34;
    FileHandlerStash.LOGGER.debug(&#34;Getting question category for ID: &#34; + str(catID))
    default = None
    for category in FileHandlerStash.QUESTION_CATEGORIES:
        if category.id == catID:
            return category
        if category.id == 1:
            default = category
    return default


def getQuestionnaireCategoryByID(catID: int = 1) -&gt; QuestionnaireCategory:
    &#34;&#34;&#34;Gets a QuestionnaireCategory by its ID

    Args:
        catID (int, optional): The ID to search for. Defaults to 1.

    Returns:
        QuestionnaireCategory: The found category
    &#34;&#34;&#34;
    FileHandlerStash.LOGGER.debug(&#34;Getting questionnaire category for ID: &#34; + str(catID))
    default = None
    for category in FileHandlerStash.QUESTIONNAIRE_CATEGORIES:
        if category.id == catID:
            return category
        if category.id == 1:
            default = category
    return default


def createConfigFile():
    &#34;&#34;&#34;
    Method to create a config file - if none is found - with given default parameters.
    :return:
    &#34;&#34;&#34;
    Path(Path(os.getcwd()) / Path(&#34;config/&#34;)).mkdir(exist_ok=True)
    if not FileHandlerStash.CONFIG_FILE_PATH.exists():
        parser: configparser.ConfigParser = configparser.ConfigParser()
        parser[&#39;DEFAULT&#39;] = {&#39;UseQuestionAnswerLimit&#39;: &#39;no&#39;,
                             &#39;QuestionAnswerLimit&#39;: &#39;-1&#39;,
                             &#39;UseRecoveryPoints&#39;: &#39;yes&#39;,
                             &#39;ShowTutorialDialog&#39;: &#39;yes&#39;}
        parser[&#39;DATABASE&#39;] = {&#39;UseNetworkDatabase&#39;: &#39;no&#39;,
                              &#39;LocalDatabase&#39;: &#39;data/physioforms.db&#39;,
                              &#39;NetworkDatabaseAddress&#39;: &#39;0.0.0.0&#39;,
                              &#39;NetworkDatabasePort&#39;: &#39;0&#39;,
                              &#39;NetworkDatabaseUser&#39;: &#39;&#39;,
                              &#39;NetworkDatabasePassword&#39;: &#39;&#39;,
                              &#39;NetworkDatabase&#39;: &#39;&#39;}
        parser[&#39;USER INTERFACE&#39;] = {&#39;UseCustomColorCodes&#39;: &#39;no&#39;,
                                    &#39;CustomColorCodes&#39;: &#39;FF, FF, FF&#39;,
                                    &#39;UserIcon&#39;: Path(os.getcwd()) / Path(&#34;data/logo.png&#34;)}
        parser[&#39;DEBUGGING&#39;] = {&#39;LogFileMaxCount&#39;: &#39;5&#39;}
        with open(FileHandlerStash.CONFIG_FILE_PATH, &#39;w&#39;) as configFile:
            parser.write(configFile)


def readConfigFile() -&gt; Config:
    &#34;&#34;&#34;
    Method to read from existing config file
    :return: config object with read attributes
    &#34;&#34;&#34;
    if not FileHandlerStash.CONFIG_FILE_PATH.exists():
        raise FileNotFoundError

    parser: configparser.ConfigParser = configparser.ConfigParser()
    parser.read(FileHandlerStash.CONFIG_FILE_PATH)
    config: Config = Config()
    config.useQuestionAnswerLimit = parser.get(&#39;DEFAULT&#39;, &#39;UseQuestionAnswerLimit&#39;) == &#34;yes&#34;
    config.useRecoveryPoints = parser.get(&#39;DEFAULT&#39;, &#39;UseRecoveryPoints&#39;) == &#34;yes&#34;
    config.useNetworkDatabase = parser.get(&#39;DATABASE&#39;, &#39;UseNetworkDatabase&#39;) == &#34;yes&#34;
    config.useCustomColorCodes = parser.get(&#39;USER INTERFACE&#39;, &#39;UseCustomColorCodes&#39;) == &#34;yes&#34;
    config.showTutorialDialog = parser.get(&#39;DEFAULT&#39;, &#39;ShowTutorialDialog&#39;) == &#39;yes&#39;

    config.logFileMaxCount = int(parser.get(&#39;DEBUGGING&#39;, &#39;LogFileMaxCount&#39;))
    config.localDatabase = Path(parser.get(&#39;DATABASE&#39;, &#39;LocalDatabase&#39;))

    config.networkDatabaseAddress = parser.get(&#39;DATABASE&#39;, &#39;NetworkDatabaseAddress&#39;)
    config.networkDatabasePort = int(parser.get(&#39;DATABASE&#39;, &#39;NetworkDatabasePort&#39;))
    config.networkDatabaseUser = parser.get(&#39;DATABASE&#39;, &#39;NetworkDatabaseUser&#39;)
    config.networkDatabasePassword = parser.get(&#39;DATABASE&#39;, &#39;NetworkDatabasePassword&#39;)
    config.networkDatabase = parser.get(&#39;DATABASE&#39;, &#39;NetworkDatabase&#39;)

    config.customColorCodes = parser.get(&#39;USER INTERFACE&#39;, &#39;CustomColorCodes&#39;)

    config.userIcon = Path(parser.get(&#39;USER INTERFACE&#39;, &#39;UserIcon&#39;))

    config.questionAnswerLimit = int(parser.get(&#39;DEFAULT&#39;, &#39;QuestionAnswerLimit&#39;))

    return config


def updateConfig(key, value, category) -&gt; Config:
    &#34;&#34;&#34;
    Method to update values in the config file.
    :param key: config key to be updated
    :param value: value connected to the key to be updated
    :param category: category in which the key is put
    :return: updated config object
    &#34;&#34;&#34;
    if not FileHandlerStash.CONFIG_FILE_PATH.exists():
        raise FileNotFoundError

    parser: configparser.ConfigParser = configparser.ConfigParser()
    parser.read(FileHandlerStash.CONFIG_FILE_PATH)
    parser.set(category, key, value)
    with open(FileHandlerStash.CONFIG_FILE_PATH, &#39;w&#39;) as configFile:
        parser.write(configFile)
    return readConfigFile()</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-functions">Functions</h2>
<dl>
<dt id="PhysioForms.fileHandler.createConfigFile"><code class="name flex">
<span>def <span class="ident">createConfigFile</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"><p>Method to create a config file - if none is found - with given default parameters.
:return:</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def createConfigFile():
    &#34;&#34;&#34;
    Method to create a config file - if none is found - with given default parameters.
    :return:
    &#34;&#34;&#34;
    Path(Path(os.getcwd()) / Path(&#34;config/&#34;)).mkdir(exist_ok=True)
    if not FileHandlerStash.CONFIG_FILE_PATH.exists():
        parser: configparser.ConfigParser = configparser.ConfigParser()
        parser[&#39;DEFAULT&#39;] = {&#39;UseQuestionAnswerLimit&#39;: &#39;no&#39;,
                             &#39;QuestionAnswerLimit&#39;: &#39;-1&#39;,
                             &#39;UseRecoveryPoints&#39;: &#39;yes&#39;,
                             &#39;ShowTutorialDialog&#39;: &#39;yes&#39;}
        parser[&#39;DATABASE&#39;] = {&#39;UseNetworkDatabase&#39;: &#39;no&#39;,
                              &#39;LocalDatabase&#39;: &#39;data/physioforms.db&#39;,
                              &#39;NetworkDatabaseAddress&#39;: &#39;0.0.0.0&#39;,
                              &#39;NetworkDatabasePort&#39;: &#39;0&#39;,
                              &#39;NetworkDatabaseUser&#39;: &#39;&#39;,
                              &#39;NetworkDatabasePassword&#39;: &#39;&#39;,
                              &#39;NetworkDatabase&#39;: &#39;&#39;}
        parser[&#39;USER INTERFACE&#39;] = {&#39;UseCustomColorCodes&#39;: &#39;no&#39;,
                                    &#39;CustomColorCodes&#39;: &#39;FF, FF, FF&#39;,
                                    &#39;UserIcon&#39;: Path(os.getcwd()) / Path(&#34;data/logo.png&#34;)}
        parser[&#39;DEBUGGING&#39;] = {&#39;LogFileMaxCount&#39;: &#39;5&#39;}
        with open(FileHandlerStash.CONFIG_FILE_PATH, &#39;w&#39;) as configFile:
            parser.write(configFile)</code></pre>
</details>
</dd>
<dt id="PhysioForms.fileHandler.createLogger"><code class="name flex">
<span>def <span class="ident">createLogger</span></span>(<span>maxFileCount: int) ‑> logging.Logger</span>
</code></dt>
<dd>
<div class="desc"><p>Creates a logger and a logging.FileHandler and removes the oldest logfile to keep max 5 logfiles</p>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>logging.Logger</code></dt>
<dd>The created logger with the FileHandler</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def createLogger(maxFileCount: int) -&gt; logging.Logger:
    &#34;&#34;&#34;Creates a logger and a logging.FileHandler and removes the oldest logfile to keep max 5 logfiles

    Returns:
        logging.Logger: The created logger with the FileHandler
    &#34;&#34;&#34;
    logsDir: Path = Path(Path(os.getcwd()) / Path(&#34;log/&#34;))
    logsDir.mkdir(exist_ok=True)
    loggerFormat = logging.Formatter(&#34;%(asctime)s - %(levelname)s - %(module)s:%(funcName)s | %(message)s&#34;)
    logger: logging.Logger = logging.getLogger(&#34;MainLogger&#34;)
    logFile = logsDir / Path(time.strftime(&#34;%Y_%m_%d.log&#34;, time.localtime()))

    logFiles: list = list(logsDir.glob(&#34;*.log&#34;))
    logFiles.sort()
    if len(logFiles) &gt; 0 and len(logFiles) &gt; maxFileCount and (Path(logFiles[-1]) != Path(logFile)):
        os.remove(logFiles[0])

    logFileHandler = logging.FileHandler(filename=logFile, mode=&#34;a&#34;)
    logFileHandler.setFormatter(loggerFormat)

    logger.addHandler(logFileHandler)
    FileHandlerStash.LOGGER = logger
    return logger</code></pre>
</details>
</dd>
<dt id="PhysioForms.fileHandler.createSessionFile"><code class="name flex">
<span>def <span class="ident">createSessionFile</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"><p>Creates a SessionFile if there is none</p>
<h2 id="raises">Raises</h2>
<dl>
<dt><code>FileExistsError</code></dt>
<dd>If there is already a SessionFIle</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def createSessionFile():
    &#34;&#34;&#34;Creates a SessionFile if there is none

    Raises:
        FileExistsError: If there is already a SessionFIle
    &#34;&#34;&#34;
    FileHandlerStash.LOGGER.debug(&#34;Checking if session file already exists&#34;)
    if FileHandlerStash.SESSION_FILE_PATH.exists():
        raise FileExistsError

    FileHandlerStash.LOGGER.debug(&#34;No session file. Creating a new one&#34;)
    open(FileHandlerStash.SESSION_FILE_PATH, &#34;w&#34;).close()</code></pre>
</details>
</dd>
<dt id="PhysioForms.fileHandler.getQuestionCategoryByID"><code class="name flex">
<span>def <span class="ident">getQuestionCategoryByID</span></span>(<span>catID: int = 1) ‑> <a title="PhysioForms.QuestionCategory.QuestionCategory" href="QuestionCategory.html#PhysioForms.QuestionCategory.QuestionCategory">QuestionCategory</a></span>
</code></dt>
<dd>
<div class="desc"><p>Gets a QuestionCategory by its ID</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>catID</code></strong> :&ensp;<code>int</code>, optional</dt>
<dd>The ID to search for. Defaults to 1.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>QuestionCategory</code></dt>
<dd>The found category</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def getQuestionCategoryByID(catID: int = 1) -&gt; QuestionCategory:
    &#34;&#34;&#34;Gets a QuestionCategory by its ID

    Args:
        catID (int, optional): The ID to search for. Defaults to 1.

    Returns:
        QuestionCategory: The found category
    &#34;&#34;&#34;
    FileHandlerStash.LOGGER.debug(&#34;Getting question category for ID: &#34; + str(catID))
    default = None
    for category in FileHandlerStash.QUESTION_CATEGORIES:
        if category.id == catID:
            return category
        if category.id == 1:
            default = category
    return default</code></pre>
</details>
</dd>
<dt id="PhysioForms.fileHandler.getQuestionnaireCategoryByID"><code class="name flex">
<span>def <span class="ident">getQuestionnaireCategoryByID</span></span>(<span>catID: int = 1) ‑> <a title="PhysioForms.QuestionnaireCategory.QuestionnaireCategory" href="QuestionnaireCategory.html#PhysioForms.QuestionnaireCategory.QuestionnaireCategory">QuestionnaireCategory</a></span>
</code></dt>
<dd>
<div class="desc"><p>Gets a QuestionnaireCategory by its ID</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>catID</code></strong> :&ensp;<code>int</code>, optional</dt>
<dd>The ID to search for. Defaults to 1.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>QuestionnaireCategory</code></dt>
<dd>The found category</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def getQuestionnaireCategoryByID(catID: int = 1) -&gt; QuestionnaireCategory:
    &#34;&#34;&#34;Gets a QuestionnaireCategory by its ID

    Args:
        catID (int, optional): The ID to search for. Defaults to 1.

    Returns:
        QuestionnaireCategory: The found category
    &#34;&#34;&#34;
    FileHandlerStash.LOGGER.debug(&#34;Getting questionnaire category for ID: &#34; + str(catID))
    default = None
    for category in FileHandlerStash.QUESTIONNAIRE_CATEGORIES:
        if category.id == catID:
            return category
        if category.id == 1:
            default = category
    return default</code></pre>
</details>
</dd>
<dt id="PhysioForms.fileHandler.getTypeByTypeName"><code class="name flex">
<span>def <span class="ident">getTypeByTypeName</span></span>(<span>typeName: str) ‑> <a title="PhysioForms.QuestionType.QuestionType" href="QuestionType.html#PhysioForms.QuestionType.QuestionType">QuestionType</a></span>
</code></dt>
<dd>
<div class="desc"><p>Get a type object by it's name</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>typeName</code></strong> :&ensp;<code>str</code></dt>
<dd>The name of the type object</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>QuestionType</code></dt>
<dd>The found type object</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def getTypeByTypeName(typeName: str) -&gt; QuestionType:
    &#34;&#34;&#34;Get a type object by it&#39;s name

    Args:
        typeName (str): The name of the type object

    Returns:
        QuestionType: The found type object
    &#34;&#34;&#34;
    FileHandlerStash.LOGGER.debug(&#34;Getting QuestionType for typeName: &#34; + typeName)
    for type in FileHandlerStash.TYPES:
        if typeName == type.typeName:
            return type</code></pre>
</details>
</dd>
<dt id="PhysioForms.fileHandler.readConfigFile"><code class="name flex">
<span>def <span class="ident">readConfigFile</span></span>(<span>) ‑> <a title="PhysioForms.Config.Config" href="Config.html#PhysioForms.Config.Config">Config</a></span>
</code></dt>
<dd>
<div class="desc"><p>Method to read from existing config file
:return: config object with read attributes</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def readConfigFile() -&gt; Config:
    &#34;&#34;&#34;
    Method to read from existing config file
    :return: config object with read attributes
    &#34;&#34;&#34;
    if not FileHandlerStash.CONFIG_FILE_PATH.exists():
        raise FileNotFoundError

    parser: configparser.ConfigParser = configparser.ConfigParser()
    parser.read(FileHandlerStash.CONFIG_FILE_PATH)
    config: Config = Config()
    config.useQuestionAnswerLimit = parser.get(&#39;DEFAULT&#39;, &#39;UseQuestionAnswerLimit&#39;) == &#34;yes&#34;
    config.useRecoveryPoints = parser.get(&#39;DEFAULT&#39;, &#39;UseRecoveryPoints&#39;) == &#34;yes&#34;
    config.useNetworkDatabase = parser.get(&#39;DATABASE&#39;, &#39;UseNetworkDatabase&#39;) == &#34;yes&#34;
    config.useCustomColorCodes = parser.get(&#39;USER INTERFACE&#39;, &#39;UseCustomColorCodes&#39;) == &#34;yes&#34;
    config.showTutorialDialog = parser.get(&#39;DEFAULT&#39;, &#39;ShowTutorialDialog&#39;) == &#39;yes&#39;

    config.logFileMaxCount = int(parser.get(&#39;DEBUGGING&#39;, &#39;LogFileMaxCount&#39;))
    config.localDatabase = Path(parser.get(&#39;DATABASE&#39;, &#39;LocalDatabase&#39;))

    config.networkDatabaseAddress = parser.get(&#39;DATABASE&#39;, &#39;NetworkDatabaseAddress&#39;)
    config.networkDatabasePort = int(parser.get(&#39;DATABASE&#39;, &#39;NetworkDatabasePort&#39;))
    config.networkDatabaseUser = parser.get(&#39;DATABASE&#39;, &#39;NetworkDatabaseUser&#39;)
    config.networkDatabasePassword = parser.get(&#39;DATABASE&#39;, &#39;NetworkDatabasePassword&#39;)
    config.networkDatabase = parser.get(&#39;DATABASE&#39;, &#39;NetworkDatabase&#39;)

    config.customColorCodes = parser.get(&#39;USER INTERFACE&#39;, &#39;CustomColorCodes&#39;)

    config.userIcon = Path(parser.get(&#39;USER INTERFACE&#39;, &#39;UserIcon&#39;))

    config.questionAnswerLimit = int(parser.get(&#39;DEFAULT&#39;, &#39;QuestionAnswerLimit&#39;))

    return config</code></pre>
</details>
</dd>
<dt id="PhysioForms.fileHandler.readFromFile"><code class="name flex">
<span>def <span class="ident">readFromFile</span></span>(<span>pathToFile: pathlib.Path) ‑> <a title="PhysioForms.Questionnaire.Questionnaire" href="Questionnaire.html#PhysioForms.Questionnaire.Questionnaire">Questionnaire</a></span>
</code></dt>
<dd>
<div class="desc"><p>Function to read the questionnaire from the given JSON file</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>pathToFile</code></strong> :&ensp;<code>Path</code></dt>
<dd>Path to the file, which should be read from</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>Questionnaire</code></dt>
<dd>The read questionnaire</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def readFromFile(pathToFile: Path) -&gt; Questionnaire:
    &#34;&#34;&#34;Function to read the questionnaire from the given JSON file

    Args:
        pathToFile (Path): Path to the file, which should be read from

    Returns:
        Questionnaire: The read questionnaire
    &#34;&#34;&#34;
    FileHandlerStash.LOGGER.debug(&#34;Reading from file: &#34; + str(pathToFile))
    jsonObj = readJSONObjFromFile(pathToFile)
    jsonQuestions = jsonObj[&#34;question&#34;]
    questions: list = []
    FileHandlerStash.LOGGER.debug(&#34;Creating question list&#34;)
    for q in jsonQuestions:
        question: Question
        if q[&#34;required&#34;] == &#34;true&#34;:
            required = True
        else:
            required = False
        if q[&#34;score&#34;] == &#34;true&#34;:
            score = True
        else:
            score = False
        if q[&#34;comment&#34;] == &#34;true&#34;:
            comment = True
        else:
            comment = False
        if q[&#34;options&#34;] == &#34;none&#34;:
            question: Question = Question(text=q[&#34;text&#34;], type=getTypeByTypeName(q[&#34;type&#34;]), options=[],
                                          required=required, dependent_on=q[&#34;dependent_on&#34;],
                                          expected_answer=q[&#34;expected_answer&#34;], abbreviation=q[&#34;abbrv&#34;],
                                          score=score, comment=comment,
                                          category=getQuestionCategoryByID())
            questions.insert(int(q[&#34;number&#34;]), question)
        else:
            optionKeys: list = []
            options: list = []
            for o in q[&#34;options&#34;]:
                optionKeys.append(o)
            for o in optionKeys:
                options.append(q[&#34;options&#34;][o])
            question: Question = Question(text=q[&#34;text&#34;], type=getTypeByTypeName(q[&#34;type&#34;]), options=options,
                                          required=required, dependent_on=q[&#34;dependent_on&#34;],
                                          expected_answer=q[&#34;expected_answer&#34;], abbreviation=q[&#34;abbrv&#34;],
                                          score=score, comment=comment,
                                          category=getQuestionCategoryByID())
            questions.insert(int(q[&#34;number&#34;]), question)
    FileHandlerStash.LOGGER.debug(&#34;Creating questionnaire&#34;)
    questionnaire: Questionnaire = Questionnaire(name=pathToFile.stem, questions=questions,
                                                 category=getQuestionnaireCategoryByID())
    return questionnaire</code></pre>
</details>
</dd>
<dt id="PhysioForms.fileHandler.readJSONObjFromFile"><code class="name flex">
<span>def <span class="ident">readJSONObjFromFile</span></span>(<span>pathToFile: pathlib.Path) ‑> object</span>
</code></dt>
<dd>
<div class="desc"><p>Function to read the content from a JSON file</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>pathToFile</code></strong> :&ensp;<code>Path</code></dt>
<dd>Path to the file, which should be read from</dd>
</dl>
<h2 id="raises">Raises</h2>
<dl>
<dt><code>FileNotFoundError</code></dt>
<dd>If the file doesn't exist</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>object</code></dt>
<dd>The read JSON object</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def readJSONObjFromFile(pathToFile: Path) -&gt; object:
    &#34;&#34;&#34;Function to read the content from a JSON file

    Args:
        pathToFile (Path): Path to the file, which should be read from

    Raises:
        FileNotFoundError: If the file doesn&#39;t exist

    Returns:
        object: The read JSON object
    &#34;&#34;&#34;
    FileHandlerStash.LOGGER.debug(&#34;Checking if given file exists&#34;)
    if not pathToFile.exists():
        raise FileNotFoundError

    FileHandlerStash.LOGGER.debug(&#34;File existed. Reading JSON object from: &#34; + str(pathToFile))
    with open(pathToFile, &#34;r&#34;, encoding=&#34;utf-8&#34;) as file:
        jsonObj = json.load(file)
    return jsonObj</code></pre>
</details>
</dd>
<dt id="PhysioForms.fileHandler.readSessionFile"><code class="name flex">
<span>def <span class="ident">readSessionFile</span></span>(<span>) ‑> <a title="PhysioForms.Questionnaire.Questionnaire" href="Questionnaire.html#PhysioForms.Questionnaire.Questionnaire">Questionnaire</a></span>
</code></dt>
<dd>
<div class="desc"><p>Reads the content of the SessionFile</p>
<h2 id="raises">Raises</h2>
<dl>
<dt><code>FileNotFoundError</code></dt>
<dd>If there is no SessionFile</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>Questionnaire</code></dt>
<dd>The questionnaire read from the SessionFile</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def readSessionFile() -&gt; Questionnaire:
    &#34;&#34;&#34;Reads the content of the SessionFile

    Raises:
        FileNotFoundError: If there is no SessionFile

    Returns:
        Questionnaire: The questionnaire read from the SessionFile
    &#34;&#34;&#34;
    FileHandlerStash.LOGGER.debug(&#34;Checking if session file exists&#34;)
    if not FileHandlerStash.SESSION_FILE_PATH.exists():
        raise FileNotFoundError

    FileHandlerStash.LOGGER.debug(&#34;Session file exitsed. Reading from session file&#34;)
    with open(FileHandlerStash.SESSION_FILE_PATH, &#34;r&#34;, encoding=&#34;utf-8&#34;) as file:
        jO = json.load(file)
        questions: list = []
        FileHandlerStash.LOGGER.debug(&#34;Building questions list&#34;)
        for q in jO[&#34;questions&#34;]:
            options: list = []
            for o in q[&#34;options&#34;]:
                options.append(o)
            question: Question = Question(text=q[&#34;text&#34;], type=getTypeByTypeName(q[&#34;type&#34;][&#34;typeName&#34;]),
                                          options=options, required=q[&#34;required&#34;],
                                          dependent_on=q[&#34;dependent_on&#34;], expected_answer=q[&#34;expected_answer&#34;],
                                          abbreviation=q[&#34;abbreviation&#34;], score=q[&#34;score&#34;], comment=q[&#34;comment&#34;],
                                          category=getQuestionCategoryByID(q[&#34;category&#34;][&#34;id&#34;]), id=q[&#34;id&#34;])
            questions.append(question)
        FileHandlerStash.LOGGER.debug(&#34;Building and returning questionnaire&#34;)
        return Questionnaire(name=jO[&#34;name&#34;], id=jO[&#34;id&#34;], description=jO[&#34;description&#34;],
                             creationDate=jO[&#34;creationDate&#34;], lastEdited=jO[&#34;lastEdited&#34;], questions=questions,
                             category=getQuestionnaireCategoryByID(jO[&#34;category&#34;][&#34;id&#34;]))</code></pre>
</details>
</dd>
<dt id="PhysioForms.fileHandler.removeSessionFile"><code class="name flex">
<span>def <span class="ident">removeSessionFile</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"><p>Removes the SessionFile</p>
<h2 id="raises">Raises</h2>
<dl>
<dt><code>FileNotFoundError</code></dt>
<dd>If there is no SessionFile</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def removeSessionFile():
    &#34;&#34;&#34;Removes the SessionFile

    Raises:
        FileNotFoundError: If there is no SessionFile
    &#34;&#34;&#34;
    FileHandlerStash.LOGGER.debug(&#34;Checking if session file exists&#34;)
    if not FileHandlerStash.SESSION_FILE_PATH.exists():
        raise FileNotFoundError

    FileHandlerStash.LOGGER.debug(&#34;Session file existed. Removing it&#34;)
    os.remove(FileHandlerStash.SESSION_FILE_PATH)</code></pre>
</details>
</dd>
<dt id="PhysioForms.fileHandler.setQuestionCategories"><code class="name flex">
<span>def <span class="ident">setQuestionCategories</span></span>(<span>categories: list)</span>
</code></dt>
<dd>
<div class="desc"><p>Correlates the categories list with the given categories</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>categories</code></strong> :&ensp;<code>list</code></dt>
<dd>The given categories</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def setQuestionCategories(categories: list):
    &#34;&#34;&#34;Correlates the categories list with the given categories

    Args:
        categories (list): The given categories
    &#34;&#34;&#34;
    FileHandlerStash.LOGGER.debug(&#34;Setting question categories&#34;)
    for category in categories:
        FileHandlerStash.QUESTION_CATEGORIES.append(category)</code></pre>
</details>
</dd>
<dt id="PhysioForms.fileHandler.setQuestionnaireCategories"><code class="name flex">
<span>def <span class="ident">setQuestionnaireCategories</span></span>(<span>categories: list)</span>
</code></dt>
<dd>
<div class="desc"><p>Correlates the categories list with the given categories</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>categories</code></strong> :&ensp;<code>list</code></dt>
<dd>The given categories</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def setQuestionnaireCategories(categories: list):
    &#34;&#34;&#34;Correlates the categories list with the given categories

    Args:
        categories (list): The given categories
    &#34;&#34;&#34;
    FileHandlerStash.LOGGER.debug(&#34;Setting questionnaire categories&#34;)
    for category in categories:
        FileHandlerStash.QUESTIONNAIRE_CATEGORIES.append(category)</code></pre>
</details>
</dd>
<dt id="PhysioForms.fileHandler.setTypes"><code class="name flex">
<span>def <span class="ident">setTypes</span></span>(<span>types: list)</span>
</code></dt>
<dd>
<div class="desc"><p>Correlates the types list with the given types</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>types</code></strong> :&ensp;<code>list</code></dt>
<dd>The given types</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def setTypes(types: list):
    &#34;&#34;&#34;Correlates the types list with the given types

    Args:
        types (list): The given types
    &#34;&#34;&#34;
    FileHandlerStash.LOGGER.debug(&#34;Setting types&#34;)
    for typeName in types:
        FileHandlerStash.TYPES.append(typeName)</code></pre>
</details>
</dd>
<dt id="PhysioForms.fileHandler.updateConfig"><code class="name flex">
<span>def <span class="ident">updateConfig</span></span>(<span>key, value, category) ‑> <a title="PhysioForms.Config.Config" href="Config.html#PhysioForms.Config.Config">Config</a></span>
</code></dt>
<dd>
<div class="desc"><p>Method to update values in the config file.
:param key: config key to be updated
:param value: value connected to the key to be updated
:param category: category in which the key is put
:return: updated config object</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def updateConfig(key, value, category) -&gt; Config:
    &#34;&#34;&#34;
    Method to update values in the config file.
    :param key: config key to be updated
    :param value: value connected to the key to be updated
    :param category: category in which the key is put
    :return: updated config object
    &#34;&#34;&#34;
    if not FileHandlerStash.CONFIG_FILE_PATH.exists():
        raise FileNotFoundError

    parser: configparser.ConfigParser = configparser.ConfigParser()
    parser.read(FileHandlerStash.CONFIG_FILE_PATH)
    parser.set(category, key, value)
    with open(FileHandlerStash.CONFIG_FILE_PATH, &#39;w&#39;) as configFile:
        parser.write(configFile)
    return readConfigFile()</code></pre>
</details>
</dd>
<dt id="PhysioForms.fileHandler.writeJSONObjToFile"><code class="name flex">
<span>def <span class="ident">writeJSONObjToFile</span></span>(<span>pathToFile: pathlib.Path, jsonObj: object)</span>
</code></dt>
<dd>
<div class="desc"><p>Function to write a JSON object to a file</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>pathToFile</code></strong> :&ensp;<code>Path</code></dt>
<dd>Path to the file, wich sould be written to</dd>
<dt><strong><code>jsonObj</code></strong> :&ensp;<code>object</code></dt>
<dd>The JSON object, that should be written to the file</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def writeJSONObjToFile(pathToFile: Path, jsonObj: object):
    &#34;&#34;&#34;Function to write a JSON object to a file

    Args:
        pathToFile (Path): Path to the file, wich sould be written to
        jsonObj (object): The JSON object, that should be written to the file
    &#34;&#34;&#34;
    FileHandlerStash.LOGGER.debug(&#34;Writing given JSON object to file: &#34; + str(pathToFile))
    with open(pathToFile, &#34;w&#34;, encoding=&#34;utf-8&#34;) as file:
        json.dump(obj=jsonObj, fp=file, indent=2, ensure_ascii=False)</code></pre>
</details>
</dd>
<dt id="PhysioForms.fileHandler.writeToFile"><code class="name flex">
<span>def <span class="ident">writeToFile</span></span>(<span>pathToFile: pathlib.Path, questionnaire: <a title="PhysioForms.Questionnaire.Questionnaire" href="Questionnaire.html#PhysioForms.Questionnaire.Questionnaire">Questionnaire</a>)</span>
</code></dt>
<dd>
<div class="desc"><p>Function to write the questionnaire in the given JSON format to the given file</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>pathToFile</code></strong> :&ensp;<code>Path</code></dt>
<dd>Path to the file, which should be written to</dd>
<dt><strong><code>questionnaire</code></strong> :&ensp;<code>Questionnaire</code></dt>
<dd>The questionnaire, that should be written to the file</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def writeToFile(pathToFile: Path, questionnaire: Questionnaire):
    &#34;&#34;&#34;Function to write the questionnaire in the given JSON format to the given file

    Args:
        pathToFile (Path): Path to the file, which should be written to
        questionnaire (Questionnaire): The questionnaire, that should be written to the file
    &#34;&#34;&#34;
    FileHandlerStash.LOGGER.debug(&#34;Writing to file: &#34; + str(pathToFile))
    if len(questionnaire.questions) == 0:
        raise Exception(&#34;No questions in questionnaire.&#34;)
    questions: list = questionnaire.questions
    FileHandlerStash.LOGGER.debug(&#34;Building JSON string&#34;)
    jsonStr = &#39;{&#34;question&#34;:[&#39;
    q1Q = questions[0]
    q1Str = &#39;{&#34;number&#34;: &#34;&#39; + str(1) + &#39;&#34;,&#34;text&#34;: &#34;&#39; + str(q1Q.text) + &#39;&#34;,&#34;type&#34;: &#34;&#39; + str(q1Q.type.typeName)
    if len(q1Q.options) == 0:
        q1Str += &#39;&#34;,&#34;options&#34;: &#34;&#39; + &#34;none&#34; + &#39;&#34;&#39;
    else:
        optionsStr = &#39;&#34;,&#34;options&#34;: {&#39;
        o1Str = &#39;&#34;&#39; + str(q1Q.options[0]) + &#39;&#34;: &#34;&#39; + str(q1Q.options[0]) + &#39;&#34;&#39;
        optionsStr += o1Str
        for n in range(1, len(q1Q.options)):
            o = q1Q.options[n]
            optionsStr += &#39;,&#34;&#39; + str(o) + &#39;&#34;: &#34;&#39; + str(o) + &#39;&#34;&#39;
        optionsStr += &#39;}&#39;
        q1Str += optionsStr
    q1Str += &#39;,&#34;required&#34;: &#34;&#39; + str(q1Q.required).lower() + &#39;&#34;,&#34;dependent_on&#34;: &#34;&#39; + str(
        q1Q.dependent_on) + &#39;&#34;,&#34;expected_answer&#34;: &#34;&#39; + str(q1Q.expected_answer) + &#39;&#34;,&#34;abbrv&#34;: &#34;&#39; + str(
        q1Q.abbreviation) + &#39;&#34;,&#34;score&#34;: &#34;&#39; + str(q1Q.score).lower() + &#39;&#34;,&#34;comment&#34;: &#34;&#39; + str(q1Q.comment).lower() + &#39;&#34;}&#39;
    jsonStr += q1Str
    for n in range(1, len(questions)):
        q: Question = questions[n]
        questionStr = &#39;,{&#34;number&#34;: &#34;&#39; + str(n + 1) + &#39;&#34;,&#34;text&#34;: &#34;&#39; + str(q.text) + &#39;&#34;,&#34;type&#34;: &#34;&#39; + str(q.type.typeName)
        if len(q.options) == 0:
            questionStr += &#39;&#34;,&#34;options&#34;: &#34;&#39; + &#34;none&#34; + &#39;&#34;&#39;
        else:
            optionsStr = &#39;&#34;,&#34;options&#34;: {&#39;
            o1Str = &#39;&#34;&#39; + str(q.options[0]) + &#39;&#34;: &#34;&#39; + str(q.options[0]) + &#39;&#34;&#39;
            optionsStr += o1Str
            for n in range(1, len(q.options)):
                o = q.options[n]
                optionsStr += &#39;,&#34;&#39; + str(o) + &#39;&#34;: &#34;&#39; + str(o) + &#39;&#34;&#39;
            optionsStr += &#39;}&#39;
            questionStr += optionsStr
        questionStr += &#39;,&#34;required&#34;: &#34;&#39; + str(q.required).lower() + &#39;&#34;,&#34;dependent_on&#34;: &#34;&#39; + str(
            q.dependent_on) + &#39;&#34;,&#34;expected_answer&#34;: &#34;&#39; + str(q.expected_answer) + &#39;&#34;,&#34;abbrv&#34;: &#34;&#39; + str(
            q.abbreviation) + &#39;&#34;,&#34;score&#34;: &#34;&#39; + str(q.score).lower() + &#39;&#34;,&#34;comment&#34;: &#34;&#39; + str(q.comment).lower() + &#39;&#34;}&#39;
        jsonStr += questionStr
    jsonStr += &#39;]}&#39;
    writeJSONObjToFile(pathToFile, json.loads(jsonStr))</code></pre>
</details>
</dd>
<dt id="PhysioForms.fileHandler.writeToSessionFile"><code class="name flex">
<span>def <span class="ident">writeToSessionFile</span></span>(<span>questionnaire: <a title="PhysioForms.Questionnaire.Questionnaire" href="Questionnaire.html#PhysioForms.Questionnaire.Questionnaire">Questionnaire</a>) ‑> bool</span>
</code></dt>
<dd>
<div class="desc"><p>Writes the given object to the SessionFile</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>questionnaire</code></strong> :&ensp;<code>Questionnaire</code></dt>
<dd>The object, that should be written to the SessionFile</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>bool</code></dt>
<dd>True, if the writing was successfull</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def writeToSessionFile(questionnaire: Questionnaire) -&gt; bool:
    &#34;&#34;&#34;Writes the given object to the SessionFile

    Args:
        questionnaire (Questionnaire): The object, that should be written to the SessionFile

    Returns:
        bool: True, if the writing was successfull
    &#34;&#34;&#34;
    FileHandlerStash.LOGGER.debug(&#34;Writing questionnaire to session file&#34;)
    with open(FileHandlerStash.SESSION_FILE_PATH, &#34;w&#34;, encoding=&#34;utf-8&#34;) as file:
        file.write(questionnaire.toJSON())
    return True</code></pre>
</details>
</dd>
</dl>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="PhysioForms.fileHandler.FileHandlerStash"><code class="flex name class">
<span>class <span class="ident">FileHandlerStash</span></span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class FileHandlerStash:
    SESSION_FILE_PATH: Path = Path(os.getcwd()) / Path(&#34;session.lock&#34;)
    CONFIG_FILE_PATH: Path = Path(os.getcwd()) / Path(&#34;config/config.ini&#34;)
    TYPES: list = []
    QUESTION_CATEGORIES: list = []
    QUESTIONNAIRE_CATEGORIES: list = []
    LOGGER: logging.Logger = None</code></pre>
</details>
<h3>Class variables</h3>
<dl>
<dt id="PhysioForms.fileHandler.FileHandlerStash.CONFIG_FILE_PATH"><code class="name">var <span class="ident">CONFIG_FILE_PATH</span> : pathlib.Path</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="PhysioForms.fileHandler.FileHandlerStash.LOGGER"><code class="name">var <span class="ident">LOGGER</span> : logging.Logger</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="PhysioForms.fileHandler.FileHandlerStash.QUESTIONNAIRE_CATEGORIES"><code class="name">var <span class="ident">QUESTIONNAIRE_CATEGORIES</span> : list</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="PhysioForms.fileHandler.FileHandlerStash.QUESTION_CATEGORIES"><code class="name">var <span class="ident">QUESTION_CATEGORIES</span> : list</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="PhysioForms.fileHandler.FileHandlerStash.SESSION_FILE_PATH"><code class="name">var <span class="ident">SESSION_FILE_PATH</span> : pathlib.Path</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="PhysioForms.fileHandler.FileHandlerStash.TYPES"><code class="name">var <span class="ident">TYPES</span> : list</code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="PhysioForms" href="index.html">PhysioForms</a></code></li>
</ul>
</li>
<li><h3><a href="#header-functions">Functions</a></h3>
<ul class="">
<li><code><a title="PhysioForms.fileHandler.createConfigFile" href="#PhysioForms.fileHandler.createConfigFile">createConfigFile</a></code></li>
<li><code><a title="PhysioForms.fileHandler.createLogger" href="#PhysioForms.fileHandler.createLogger">createLogger</a></code></li>
<li><code><a title="PhysioForms.fileHandler.createSessionFile" href="#PhysioForms.fileHandler.createSessionFile">createSessionFile</a></code></li>
<li><code><a title="PhysioForms.fileHandler.getQuestionCategoryByID" href="#PhysioForms.fileHandler.getQuestionCategoryByID">getQuestionCategoryByID</a></code></li>
<li><code><a title="PhysioForms.fileHandler.getQuestionnaireCategoryByID" href="#PhysioForms.fileHandler.getQuestionnaireCategoryByID">getQuestionnaireCategoryByID</a></code></li>
<li><code><a title="PhysioForms.fileHandler.getTypeByTypeName" href="#PhysioForms.fileHandler.getTypeByTypeName">getTypeByTypeName</a></code></li>
<li><code><a title="PhysioForms.fileHandler.readConfigFile" href="#PhysioForms.fileHandler.readConfigFile">readConfigFile</a></code></li>
<li><code><a title="PhysioForms.fileHandler.readFromFile" href="#PhysioForms.fileHandler.readFromFile">readFromFile</a></code></li>
<li><code><a title="PhysioForms.fileHandler.readJSONObjFromFile" href="#PhysioForms.fileHandler.readJSONObjFromFile">readJSONObjFromFile</a></code></li>
<li><code><a title="PhysioForms.fileHandler.readSessionFile" href="#PhysioForms.fileHandler.readSessionFile">readSessionFile</a></code></li>
<li><code><a title="PhysioForms.fileHandler.removeSessionFile" href="#PhysioForms.fileHandler.removeSessionFile">removeSessionFile</a></code></li>
<li><code><a title="PhysioForms.fileHandler.setQuestionCategories" href="#PhysioForms.fileHandler.setQuestionCategories">setQuestionCategories</a></code></li>
<li><code><a title="PhysioForms.fileHandler.setQuestionnaireCategories" href="#PhysioForms.fileHandler.setQuestionnaireCategories">setQuestionnaireCategories</a></code></li>
<li><code><a title="PhysioForms.fileHandler.setTypes" href="#PhysioForms.fileHandler.setTypes">setTypes</a></code></li>
<li><code><a title="PhysioForms.fileHandler.updateConfig" href="#PhysioForms.fileHandler.updateConfig">updateConfig</a></code></li>
<li><code><a title="PhysioForms.fileHandler.writeJSONObjToFile" href="#PhysioForms.fileHandler.writeJSONObjToFile">writeJSONObjToFile</a></code></li>
<li><code><a title="PhysioForms.fileHandler.writeToFile" href="#PhysioForms.fileHandler.writeToFile">writeToFile</a></code></li>
<li><code><a title="PhysioForms.fileHandler.writeToSessionFile" href="#PhysioForms.fileHandler.writeToSessionFile">writeToSessionFile</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="PhysioForms.fileHandler.FileHandlerStash" href="#PhysioForms.fileHandler.FileHandlerStash">FileHandlerStash</a></code></h4>
<ul class="">
<li><code><a title="PhysioForms.fileHandler.FileHandlerStash.CONFIG_FILE_PATH" href="#PhysioForms.fileHandler.FileHandlerStash.CONFIG_FILE_PATH">CONFIG_FILE_PATH</a></code></li>
<li><code><a title="PhysioForms.fileHandler.FileHandlerStash.LOGGER" href="#PhysioForms.fileHandler.FileHandlerStash.LOGGER">LOGGER</a></code></li>
<li><code><a title="PhysioForms.fileHandler.FileHandlerStash.QUESTIONNAIRE_CATEGORIES" href="#PhysioForms.fileHandler.FileHandlerStash.QUESTIONNAIRE_CATEGORIES">QUESTIONNAIRE_CATEGORIES</a></code></li>
<li><code><a title="PhysioForms.fileHandler.FileHandlerStash.QUESTION_CATEGORIES" href="#PhysioForms.fileHandler.FileHandlerStash.QUESTION_CATEGORIES">QUESTION_CATEGORIES</a></code></li>
<li><code><a title="PhysioForms.fileHandler.FileHandlerStash.SESSION_FILE_PATH" href="#PhysioForms.fileHandler.FileHandlerStash.SESSION_FILE_PATH">SESSION_FILE_PATH</a></code></li>
<li><code><a title="PhysioForms.fileHandler.FileHandlerStash.TYPES" href="#PhysioForms.fileHandler.FileHandlerStash.TYPES">TYPES</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc"><cite>pdoc</cite> 0.9.2</a>.</p>
</footer>
</body>
</html>